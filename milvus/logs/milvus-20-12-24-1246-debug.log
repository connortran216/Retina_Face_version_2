[2020-12-24 12:46:37,098][DEBUG][ENGINE][CheckCpuInstructionSet][milvus_server] Supported CPU instruction sets: avx2, sse4_2
[2020-12-24 12:46:37,110][DEBUG][ENGINE][Initialize][milvus_server] FAISS hook AVX2
[2020-12-24 12:46:37,289][DEBUG][WAL][Init][milvus_server] start_lsn 4295101532 end_lsn 4295138732
[2020-12-24 12:47:05,162][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 0
[2020-12-24 12:47:05,162][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] CmdRequest(cmd=version): totally cost (0.000001 second [0.001000 ms])
[2020-12-24 12:47:05,165][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 1
[2020-12-24 12:47:05,167][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] HasCollectionRequest(collection=retina_face): totally cost (0.000773 second [0.772600 ms])
[2020-12-24 12:47:05,170][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 2
[2020-12-24 12:47:05,171][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] DescribeCollectionRequest(collection=retina_face): totally cost (0.000726 second [0.726100 ms])
[2020-12-24 12:47:05,177][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 3
[2020-12-24 12:47:05,179][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [insert][0] InsertRequest(collection=retina_face, n=3, partition_tag=): check validation (0.000757 second [0.757000 ms])
[2020-12-24 12:47:05,179][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [insert][0] InsertRequest(collection=retina_face, n=3, partition_tag=): prepare vectors data (0.000315 second [0.314800 ms])
[2020-12-24 12:47:05,181][DEBUG][ENGINE][UpdateCollectionFlag][reqsched_thread] Successfully update collection flag, collection id = retina_face
[2020-12-24 12:47:05,181][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [insert][0] InsertRequest(collection=retina_face, n=3, partition_tag=): add vectors to engine (0.002543 second [2.543400 ms])
[2020-12-24 12:47:05,182][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [insert][0] InsertRequest(collection=retina_face, n=3, partition_tag=): total cost (0.003846 second [3.846300 ms])
[2020-12-24 12:47:05,195][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 4
[2020-12-24 12:47:05,196][DEBUG][SERVER][OnExecute][reqsched_thread] FlushRequest flush collections: retina_face, 
[2020-12-24 12:47:05,260][DEBUG][ENGINE][CreateCollectionFile][wal_thread] Successfully create collection file, file id = 1608785225182582000
[2020-12-24 12:47:05,265][DEBUG][ENGINE][Add][wal_thread] [insert][0]Insert float data into segment
[2020-12-24 12:47:05,267][DEBUG][ENGINE][Flush][reqsched_thread] Begin flush collection: retina_face
[2020-12-24 12:47:05,267][DEBUG][ENGINE][Flush][reqsched_thread] WAL flush
[2020-12-24 12:47:05,268][DEBUG][ENGINE][Flush][wal_thread] Flushing collection: retina_face
[2020-12-24 12:47:05,296][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::WriteBloomFilter: Initializing bloom filter (0.026642 second [26.641800 ms])
[2020-12-24 12:47:05,387][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::WriteBloomFilter: Adding 3 ids to bloom filter (0.090711 second [90.711300 ms])
[2020-12-24 12:47:05,387][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::WriteBloomFilter: Writing bloom filter (0.000257 second [0.257100 ms])
[2020-12-24 12:47:05,387][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::Serialize: Writing bloom filter done (0.119161 second [119.161200 ms])
[2020-12-24 12:47:05,389][DEBUG][SERVER][PrintTimeRecord][wal_thread] write vectors: write rv done (0.001311 second [1.311300 ms])
[2020-12-24 12:47:05,390][DEBUG][SERVER][PrintTimeRecord][wal_thread] write vectors: write uids done (0.001333 second [1.333100 ms])
[2020-12-24 12:47:05,391][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::Serialize: Writing vectors and uids done (0.003387 second [3.387000 ms])
[2020-12-24 12:47:05,397][DEBUG][SERVER][PrintTimeRecord][wal_thread] SegmentWriter::Serialize: Writing deleted docs done (0.005853 second [5.853200 ms])
[2020-12-24 12:47:05,397][DEBUG][ENGINE][Serialize][wal_thread] New raw file 1608785225182582000 of size 6144 bytes, lsn = 4295144932
[2020-12-24 12:47:05,397][DEBUG][ENGINE][Serialize][wal_thread] Flushed segment 1608785225182582000
[2020-12-24 12:47:05,460][DEBUG][ENGINE][UpdateCollectionFiles][wal_thread] Update 1 collection files
[2020-12-24 12:47:05,505][DEBUG][ENGINE][UpdateCollectionFlushLSN][wal_thread] Successfully update collection flush_lsn, collection id = retina_face flush_lsn = 4295144932
[2020-12-24 12:47:05,506][DEBUG][SERVER][PrintTimeRecord][wal_thread] MemTable::Serialize collection retina_face: Finished flushing (0.237822 second [237.822100 ms])
[2020-12-24 12:47:05,507][DEBUG][ENGINE][Flush][wal_thread] Flushed collection: retina_face
[2020-12-24 12:47:05,517][DEBUG][ENGINE][Flush][reqsched_thread] End flush collection: retina_face
[2020-12-24 12:47:05,518][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] FlushRequest flush collections: retina_face, : totally cost (0.321447 second [321.447100 ms])
[2020-12-24 12:47:05,527][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 5
[2020-12-24 12:47:05,531][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] CountCollectionRequest(collection=retina_face): check validation (0.001983 second [1.982700 ms])
[2020-12-24 12:47:05,539][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] CountCollectionRequest(collection=retina_face): totally cost (0.009275 second [9.275400 ms])
[2020-12-24 12:47:05,541][DEBUG][ENGINE][FilesToMerge][milvus_server] Collect 2 to-merge files in collection retina_face
[2020-12-24 12:47:05,542][DEBUG][ENGINE][MarkOngoingFileNoLock][milvus_server] Mark ongoing file:1608784287052140000 refcount:1
[2020-12-24 12:47:05,543][DEBUG][ENGINE][MarkOngoingFileNoLock][milvus_server] Mark ongoing file:1608785225182582000 refcount:1
[2020-12-24 12:47:05,549][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 6
[2020-12-24 12:47:05,583][DEBUG][ENGINE][CreateCollectionFile][milvus_server] Successfully create collection file, file id = 1608785225547863000
[2020-12-24 12:47:05,612][DEBUG][ENGINE][Merge][milvus_server] Merging from /var/lib/milvus/db/tables/retina_face/1608785225182582000 to /var/lib/milvus/db/tables/retina_face/1608785225547863000
[2020-12-24 12:47:05,628][DEBUG][ENGINE][MarkOngoingFileNoLock][reqsched_thread] Mark ongoing file:1608784287052140000 refcount:2
[2020-12-24 12:47:05,631][DEBUG][ENGINE][MarkOngoingFileNoLock][reqsched_thread] Mark ongoing file:1608785225182582000 refcount:2
[2020-12-24 12:47:05,631][DEBUG][ENGINE][FilesByType][reqsched_thread] Get collection files by type. raw files:2 to_index files:0 index files:0
[2020-12-24 12:47:05,632][DEBUG][ENGINE][UnmarkOngoingFileNoLock][reqsched_thread] Unmark ongoing file:1608784287052140000 refcount:1
[2020-12-24 12:47:05,632][DEBUG][ENGINE][UnmarkOngoingFileNoLock][reqsched_thread] Unmark ongoing file:1608785225182582000 refcount:1
[2020-12-24 12:47:05,633][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] ShowCollectionInfoRequest(collection=retina_face): totally cost (0.081759 second [81.759200 ms])
[2020-12-24 12:47:05,638][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 7
[2020-12-24 12:47:05,639][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] CreateIndexRequest(collection=retina_face): check validation (0.000734 second [0.734000 ms])
[2020-12-24 12:47:05,639][DEBUG][ENGINE][Flush][reqsched_thread] Begin flush all collections
[2020-12-24 12:47:05,639][DEBUG][ENGINE][Flush][reqsched_thread] WAL flush
[2020-12-24 12:47:05,644][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: Loading segment (0.030147 second [30.147000 ms])
[2020-12-24 12:47:05,644][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: erase (0.000196 second [0.196200 ms])
[2020-12-24 12:47:05,644][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: Adding 3 vectors and uids (0.000165 second [0.164800 ms])
[2020-12-24 12:47:05,644][DEBUG][ENGINE][Merge][milvus_server] Merging completed from /var/lib/milvus/db/tables/retina_face/1608785225182582000 to /var/lib/milvus/db/tables/retina_face/1608785225547863000
[2020-12-24 12:47:05,645][DEBUG][ENGINE][Merge][milvus_server] Merging from /var/lib/milvus/db/tables/retina_face/1608784287052140000 to /var/lib/milvus/db/tables/retina_face/1608785225547863000
[2020-12-24 12:47:05,657][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: Loading segment (0.011812 second [11.812200 ms])
[2020-12-24 12:47:05,657][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: erase (0.000184 second [0.184300 ms])
[2020-12-24 12:47:05,657][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Merge: Adding 30 vectors and uids (0.000185 second [0.185400 ms])
[2020-12-24 12:47:05,657][DEBUG][ENGINE][Merge][milvus_server] Merging completed from /var/lib/milvus/db/tables/retina_face/1608784287052140000 to /var/lib/milvus/db/tables/retina_face/1608785225547863000
[2020-12-24 12:47:05,658][DEBUG][ENGINE][Execute][milvus_server] Merge task files size info:6168, 61680, 
[2020-12-24 12:47:05,701][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::WriteBloomFilter: Initializing bloom filter (0.040133 second [40.132600 ms])
[2020-12-24 12:47:05,796][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::WriteBloomFilter: Adding 33 ids to bloom filter (0.094799 second [94.799300 ms])
[2020-12-24 12:47:05,796][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::WriteBloomFilter: Writing bloom filter (0.000190 second [0.190100 ms])
[2020-12-24 12:47:05,796][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Serialize: Writing bloom filter done (0.137727 second [137.727400 ms])
[2020-12-24 12:47:05,798][DEBUG][SERVER][PrintTimeRecord][milvus_server] write vectors: write rv done (0.001389 second [1.388800 ms])
[2020-12-24 12:47:05,799][DEBUG][SERVER][PrintTimeRecord][milvus_server] write vectors: write uids done (0.001231 second [1.230800 ms])
[2020-12-24 12:47:05,799][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Serialize: Writing vectors and uids done (0.003195 second [3.195400 ms])
[2020-12-24 12:47:05,839][DEBUG][SERVER][PrintTimeRecord][milvus_server] SegmentWriter::Serialize: Writing deleted docs done (0.039729 second [39.728600 ms])
[2020-12-24 12:47:05,883][DEBUG][ENGINE][UpdateCollectionFiles][milvus_server] Update 3 collection files
[2020-12-24 12:47:05,884][DEBUG][ENGINE][Execute][milvus_server] New merged segment 1608785225547863000 of size 67848 bytes
[2020-12-24 12:47:05,954][DEBUG][ENGINE][UnmarkOngoingFileNoLock][milvus_server] Unmark ongoing file:1608785225182582000 refcount:0
[2020-12-24 12:47:05,954][DEBUG][ENGINE][UnmarkOngoingFileNoLock][milvus_server] Unmark ongoing file:1608784287052140000 refcount:0
[2020-12-24 12:47:05,956][DEBUG][ENGINE][Flush][reqsched_thread] End flush all collections
[2020-12-24 12:47:05,961][DEBUG][ENGINE][MarkOngoingFileNoLock][reqsched_thread] Mark ongoing file:1608785225547863000 refcount:1
[2020-12-24 12:47:05,961][DEBUG][ENGINE][FilesByType][reqsched_thread] Get collection files by type. raw files:1 new files:0 new_merge files:0 new_index files:0 to_index files:0
[2020-12-24 12:47:05,962][DEBUG][ENGINE][UnmarkOngoingFileNoLock][reqsched_thread] Unmark ongoing file:1608785225547863000 refcount:0
[2020-12-24 12:47:05,962][DEBUG][ENGINE][WaitCollectionIndexRecursively][reqsched_thread] WaitCollectionIndexRecursively finished
[2020-12-24 12:47:05,962][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] CreateIndexRequest(collection=retina_face): totally cost (0.323853 second [323.852700 ms])
[2020-12-24 12:47:05,964][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 8
[2020-12-24 12:47:05,966][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] DescribeIndexRequest(collection=retina_face): totally cost (0.000647 second [0.647400 ms])
[2020-12-24 12:47:05,969][DEBUG][SERVER][OnPostRecvInitialMetaData][grpcpp_sync_ser] milvus generate request_id: 9
[2020-12-24 12:47:05,970][DEBUG][SERVER][PrintTimeRecord][grpcpp_sync_ser] [search][0] SearchRequest pre-execute(collection=retina_face): totally cost (0.000005 second [0.005000 ms])
[2020-12-24 12:47:05,971][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [search][0] SearchRequest execute(collection=retina_face, nq=1, k=10): check validation (0.000395 second [0.395400 ms])
[2020-12-24 12:47:05,973][DEBUG][ENGINE][MarkOngoingFileNoLock][reqsched_thread] Mark ongoing file:1608785225547863000 refcount:1
[2020-12-24 12:47:05,973][DEBUG][ENGINE][FilesToSearch][reqsched_thread] Collect 1 to-search files in collection retina_face
[2020-12-24 12:47:05,974][DEBUG][ENGINE][FilesToSearchEx][reqsched_thread] No file to search for collection: retina_face
[2020-12-24 12:47:05,974][DEBUG][SERVER][print][reqsched_thread] [CACHE CPU] [item count]: 0, [usage] 0MB, [capacity] 1024MB
[2020-12-24 12:47:05,974][DEBUG][ENGINE][QueryAsync][reqsched_thread] Engine query begin, index file count: 1
[2020-12-24 12:47:05,974][DEBUG][SERVER][AddIndexFile][reqsched_thread] [search][0] SearchJob 0 add index file: 24
[2020-12-24 12:47:05,975][DEBUG][ENGINE][Build][jobmgr_thread] EngineFactory index type: 1
[2020-12-24 12:47:05,975][DEBUG][ENGINE][ExecutionEngineImpl][jobmgr_thread] Index params: {"dim":512,"gpu_id":0,"metric_type":"L2","nlist":2048}
[2020-12-24 12:47:05,975][DEBUG][SERVER][Run][jobmgr_thread] FallbackPass!
[2020-12-24 12:47:05,976][DEBUG][ENGINE][Load][taskloader_th] Index params: {"dim":512,"gpu_id":0,"metric_type":"L2"}
[2020-12-24 12:47:05,989][DEBUG][ENGINE][Load][taskloader_th] set uids 33 for index /var/lib/milvus/db/tables/retina_face/1608785225547863000/1608785225547863000
[2020-12-24 12:47:05,990][DEBUG][ENGINE][Load][taskloader_th] Finished loading raw data from segment /var/lib/milvus/db/tables/retina_face/1608785225547863000
[2020-12-24 12:47:05,990][DEBUG][SERVER][insert_internal][taskloader_th] [CACHE CPU] Insert /var/lib/milvus/db/tables/retina_face/1608785225547863000/1608785225547863000 size: 0MB into cache
[2020-12-24 12:47:05,990][DEBUG][SERVER][insert_internal][taskloader_th] [CACHE CPU] Count: 1, Usage: 0MB, Capacity: 1024MB
[2020-12-24 12:47:05,991][DEBUG][SERVER][PrintTimeRecord][taskloader_th] [search][0]: Search task load file id:24 DISK2CPU file type:1 size:67853 bytes from location: /var/lib/milvus/db/tables/retina_face/1608785225547863000/1608785225547863000 totally cost (0.014777 second [14.777200 ms])
[2020-12-24 12:47:05,991][DEBUG][SERVER][PrintTimeRecord][taskexector_th] [search][0] ExecutionEngineImpl::Search float: query prepare (0.000005 second [0.004700 ms])
[2020-12-24 12:47:06,002][DEBUG][SERVER][PrintTimeRecord][taskexector_th] [search][0] ExecutionEngineImpl::Search float: query done (0.010627 second [10.627100 ms])
[2020-12-24 12:47:06,003][DEBUG][ENGINE][Search][taskexector_th] [search][0] get 33 uids from index /var/lib/milvus/db/tables/retina_face/1608785225547863000/1608785225547863000
[2020-12-24 12:47:06,004][DEBUG][SERVER][PrintTimeRecord][taskexector_th] [search][0] ExecutionEngineImpl::Search float: map uids 10 (0.002207 second [2.207500 ms])
[2020-12-24 12:47:06,004][DEBUG][SERVER][SearchDone][taskexector_th] [search][0] SearchJob 0 finish index file: 24
[2020-12-24 12:47:06,005][DEBUG][SERVER][PrintTimeRecord][taskexector_th] [search][0] DoSearch file id:24: totally cost (0.013708 second [13.708200 ms])
[2020-12-24 12:47:06,005][DEBUG][SERVER][WaitResult][reqsched_thread] [search][0] SearchJob 0 all done
[2020-12-24 12:47:06,006][DEBUG][ENGINE][UnmarkOngoingFileNoLock][reqsched_thread] Unmark ongoing file:1608785225547863000 refcount:0
[2020-12-24 12:47:06,006][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] Engine query totally cost (0.032037 second [32.037100 ms])
[2020-12-24 12:47:06,007][DEBUG][SERVER][print][reqsched_thread] [CACHE CPU] [item count]: 1, [usage] 0MB, [capacity] 1024MB
[2020-12-24 12:47:06,007][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [search][0] SearchRequest execute(collection=retina_face, nq=1, k=10): query vectors from engine (0.036057 second [36.057200 ms])
[2020-12-24 12:47:06,007][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [search][0] SearchRequest execute(collection=retina_face, nq=1, k=10): construct result (0.000400 second [0.400500 ms])
[2020-12-24 12:47:06,008][DEBUG][SERVER][PrintTimeRecord][reqsched_thread] [search][0] SearchRequest execute(collection=retina_face, nq=1, k=10): totally cost (0.037133 second [37.133200 ms])
[2020-12-24 12:47:15,992][DEBUG][ENGINE][operator()][milvus_server] Remove file id:1608784287052140000 location:/var/lib/milvus/db/tables/retina_face/1608784287052140000/1608784287052140000
[2020-12-24 12:47:15,996][DEBUG][ENGINE][operator()][milvus_server] Remove file id:1608785225182582000 location:/var/lib/milvus/db/tables/retina_face/1608785225182582000/1608785225182582000
[2020-12-24 12:47:16,049][DEBUG][ENGINE][CleanUpFilesWithTTL][milvus_server] Clean 2 files expired in 10 seconds
[2020-12-24 12:47:16,076][DEBUG][ENGINE][CleanUpFilesWithTTL][milvus_server] Remove segment directory: /var/lib/milvus/db/tables/retina_face/1608784287052140000
[2020-12-24 12:47:16,088][DEBUG][ENGINE][CleanUpFilesWithTTL][milvus_server] Remove segment directory: /var/lib/milvus/db/tables/retina_face/1608785225182582000
[2020-12-24 12:47:16,088][DEBUG][ENGINE][CleanUpFilesWithTTL][milvus_server] Remove 2 segments folder
